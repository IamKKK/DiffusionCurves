# Project Design Documentation

## Principle

### Module Design

 * Maximum orthogonality between modules
 * Maximum composibility among modules
 * Maximum reusability by modules

### Project Develop

 * Driven by test
 * Driven by document

## Modules

### Core

The core module is the FMM library.

### GUI

The GUI module is the Qt user interface.

## Use cases

 * User can sequentially add control points to a blank sheet to get a bezier 
   curve. For a exsiting curve, user can move/delete certain control points, 
   and can also add new control points before/in/after exsiting points.

 * Given a bezier curve, user can add to it three attributes (left color, right 
   color and blurness) by adding attribute points. User can arbitrarily 
   add/delete attribute points along the curve and specify its attribute. The 
   changing of the underlinng bezier curve (for example, by adding/deleting 
   some control points) will not affect the attribute points since they are 
   fixed by parameter t (t ranges from 0 to 1 inclusive) along the curve.

 * Given a bezier curve with it's attributes (if not given, default values will 
   be used), user is able to view the complete graphics generated by the 
   diffusion curve, at arbitrary zooming level.

   This involves the core algorithms of diffusion curve, i.e. solving a Poisson
   equation. Different methods are available:

   * Multigrid (indicated by the original paper)
   * Conjugate Gradient
   * Fast Multipole Method

 * (Optional) When take a curve (and it's all control and attribute points) as 
   a whole, user can arbitray transform the curve by means of translation, 
   rotation along arbitray center, scaling along arbitray direction, and etc.
